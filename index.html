<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nira AI â€“ Smart Study Assistant</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app-shell">
    <!-- Top bar / branding -->
    <header class="top-bar">
      <div class="brand">
        <div class="logo-circle">N</div>
        <div class="brand-text">
          <h1>Nira AI</h1>
          <p>Smart Study Assistant for Indian Students</p>
        </div>
      </div>
      <button id="openPrivacy" class="link-button">Privacy</button>
    </header>

    <!-- Model + start card -->
    <section class="card model-card">
      <p class="section-label">Model</p>

      <div class="model-row">
        <select id="modelSelect" class="model-select"></select>
      </div>

      <div class="model-meta">
        <span id="modelSizeLabel" class="pill pill-soft">
          Approx. size: â€”
        </span>
        <span id="modelStatusChip" class="pill">
          Not started
        </span>
      </div>

      <button id="startButton" class="primary-button">
        Start Nira AI
      </button>

      <div id="progressArea" class="progress-area hidden">
        <div id="progressText" class="progress-text">
          Model not started yet.
        </div>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
      </div>
    </section>

    <!-- Intro card -->
    <section class="card intro-card">
      <p class="intro-title">Hi, I am <span class="highlight">Nira AI ðŸŽ“</span></p>
      <p class="intro-text">
        Click <strong>"Start Nira AI"</strong>, wait for the model download to finish,
        then ask me any study question in English or popular Indian languages.
      </p>
      <ul class="intro-list">
        <li>School subjects (CBSE, State board, ICSE)</li>
        <li>College topics (Engineering, Law, BBA, etc.)</li>
        <li>IT & Coding (Python, C, Java, etc.)</li>
        <li>UPSC, SSC, Banking & other competitive exams</li>
      </ul>
    </section>

    <!-- Chat card -->
    <section class="card chat-card">
      <div id="chatWindow" class="chat-window">
        <!-- Messages will be injected here -->
      </div>

      <div class="chat-info-row">
        <span id="tokenInfo">Tokens: 0</span>
        <span id="currentModelInfo">Model: â€”</span>
      </div>

      <form id="chatForm" class="chat-input-row">
        <input
          id="userInput"
          type="text"
          autocomplete="off"
          placeholder="Ask Nira AI anything about your studies..."
        />
        <button id="sendButton" type="submit" disabled>Send</button>
      </form>
    </section>

    <!-- Quick topics -->
    <section class="card quick-card">
      <p class="section-label">Quick topics</p>
      <div class="chip-row">
        <button class="chip quick" data-prompt="I am a school student. Help me with this topic in very simple steps: ">
          School
        </button>
        <button class="chip quick" data-prompt="I am a college student. Explain this concept clearly with real-life examples: ">
          College
        </button>
        <button class="chip quick" data-prompt="I am learning programming. Teach me this coding topic step by step: ">
          IT / Coding
        </button>
        <button class="chip quick" data-prompt="I am preparing for UPSC / Govt exams. Explain this in exam-oriented points: ">
          UPSC / Govt Exams
        </button>
        <button class="chip quick" data-prompt="I am preparing for competitive exams. Explain this topic with tricks and shortcuts: ">
          Competitive Exams
        </button>
      </div>
    </section>
  </main>

  <!-- Privacy modal -->
  <div id="modalBackdrop" class="modal-backdrop hidden"></div>

  <div id="privacyModal" class="modal hidden">
    <div class="modal-content">
      <h2>Privacy & Content Policy</h2>
      <p><strong>Nira AI</strong> is a study helper that runs completely inside your device using on-device AI models (WebLLM in the browser).</p>

      <ul class="policy-list">
        <li>
          <strong>No account, no login.</strong> We do not ask for your name, email,
          phone number or any other personal details.
        </li>
        <li>
          <strong>No server storage.</strong> Your questions and answers are processed
          locally in your browser. We (the developer) do not receive, store or read
          your chats on any server.
        </li>
        <li>
          <strong>Data stays on your device.</strong> Chat history and downloaded model
          files stay on the userâ€™s device/browser storage and can be cleared by the user
          (for example by clearing browser data / app data).
        </li>
        <li>
          <strong>Ads & analytics.</strong> If AdMob or similar ad services are used in
          the Android app, they may collect anonymous identifiers (like Advertising ID)
          and basic device information to show relevant ads, according to their own
          privacy policies.
        </li>
        <li>
          <strong>Content responsibility.</strong> Nira AI is designed only for
          educational purposes. Users should not use it to generate harmful, illegal,
          or inappropriate content.
        </li>
      </ul>

      <p class="policy-footer">
        If you have any questions, you can contact the developer:
        <strong>Niranjan S.R.P (Niranjan Group)</strong>.
      </p>

      <button id="closePrivacy" class="secondary-button">Close</button>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
