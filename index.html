<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1"
  />
  <title>Nira AI ‚Äì Smart Study Assistant</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <!-- Top bar -->
    <header class="top-bar">
      <div class="brand">
        <div class="logo-circle">N</div>
        <div class="brand-text">
          <h1>Nira AI</h1>
          <p>Smart Study Assistant for Indian Students</p>
        </div>
      </div>
      <button id="privacyButton" class="ghost-button">Privacy</button>
    </header>

    <main class="main-layout">
      <!-- MODEL PANEL -->
      <section class="card model-panel">
        <h2 class="section-title">Model</h2>

        <!-- Model select row -->
        <label class="field-label" for="modelSelect">Choose AI model</label>
        <div class="model-select-row">
          <select id="modelSelect" class="model-select"></select>
        </div>
        <div class="model-meta-row">
          <span id="modelApproxSize" class="model-meta">Approx. size: ‚Äì</span>
          <span id="statusChip" class="status-chip status-idle">Model not started</span>
        </div>

        <!-- Download progress -->
        <div class="progress-wrapper">
          <div class="progress-track">
            <div id="downloadProgressBar" class="progress-bar"></div>
          </div>
          <div id="downloadProgressText" class="progress-text">
            Model not downloading yet.
          </div>
        </div>

        <!-- Start button -->
        <button id="startButton" class="primary-button">
          Start Nira AI
        </button>

        <p id="statusText" class="status-helper">
          Click ‚ÄúStart Nira AI‚Äù, wait for the model download to finish, then
          ask any study question in English or Indian languages.
        </p>
      </section>

      <!-- CHAT PANEL -->
      <section class="card chat-panel">
        <header class="chat-header">
          <h2>Hi, I am Nira AI üéì</h2>
          <p>
            I can help with school (CBSE, State board, ICSE), college subjects
            (Engineering, Law, BBA, etc.), IT & Coding, and UPSC / other
            competitive exams.
          </p>
        </header>

        <!-- Chat window -->
        <div id="chatWindow" class="chat-window"></div>

        <!-- Token & model info -->
        <div id="tokenInfo" class="token-info">
          Tokens: 0 ‚Ä¢ Model: ‚Äì
        </div>

        <!-- Input row -->
        <form id="chatForm" class="chat-input-row">
          <textarea
            id="userInput"
            class="chat-input"
            rows="2"
            placeholder="Ask Nira AI anything about your studies..."
          ></textarea>
          <button id="sendButton" class="send-button" type="submit">
            Send
          </button>
        </form>

        <!-- Quick topics -->
        <div class="quick-topics">
          <span class="quick-topics-label">Quick topics:</span>
          <button class="chip" data-topic="School">
            School
          </button>
          <button class="chip" data-topic="College">
            College
          </button>
          <button class="chip" data-topic="IT / Coding">
            IT / Coding
          </button>
          <button class="chip" data-topic="UPSC / Govt Exams">
            UPSC / Govt Exams
          </button>
          <button class="chip" data-topic="Competitive Exams">
            Competitive Exams
          </button>
        </div>
      </section>
    </main>

    <footer class="footer">
      Nira AI Lite ‚Äì runs models directly on your device using WebGPU.
    </footer>
  </div>

  <!-- PRIVACY MODAL -->
  <div id="privacyModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-dialog">
      <h2>Privacy & Content Policy</h2>
      <p class="modal-app-name">Nira AI</p>

      <p>
        Nira AI runs completely on your device using on-device AI models.
        We designed this app so that
        <strong>your study chats stay on your own phone or browser.</strong>
      </p>

      <ul class="modal-list">
        <li>
          The app does <strong>not</strong> ask you to create an account or enter
          personal details like name, email, phone number or address.
        </li>
        <li>
          Your questions and answers are processed locally by the AI model that
          is downloaded to your device. They are <strong>not</strong> sent to
          our own server for storage or analysis.
        </li>
        <li>
          We do not build user profiles, we do not track your study activity and
          we do not sell or share your personal data with third parties.
        </li>
        <li>
          Some technical data may be collected by Google Play Services and
          Google AdMob (such as device information or advertising ID) in order
          to show ads and keep the app free. This data is handled under
          Google‚Äôs own privacy policy.
        </li>
        <li>
          You are responsible for what you type into the app. Please avoid
          entering highly sensitive information (for example, passwords, bank
          details, or private legal case details).
        </li>
      </ul>

      <p>
        By using Nira AI, you agree that the app is for educational support
        only and <strong>does not</strong> provide professional legal,
        medical or financial advice.
      </p>

      <button id="privacyCloseButton" class="primary-button modal-close">
        Close
      </button>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
